# Karo - Kubernetes Restart Operator

[![Tests](https://github.com/tom1299/karo/actions/workflows/test.yml/badge.svg)](https://github.com/tom1299/karo/actions/workflows/test.yml)
[![codecov](https://codecov.io/gh/tom1299/karo/branch/main/graph/badge.svg)](https://codecov.io/gh/tom1299/karo)
[![Go Report Card](https://goreportcard.com/badge/github.com/tom1299/karo)](https://goreportcard.com/report/github.com/tom1299/karo)

Karo is a Kubernetes operator that automatically restarts deployments when ConfigMaps or Secrets they depend on are updated. This ensures your applications always use the latest configuration without manual intervention.

## AI generated code
Note that most of the code in this repository was generated by AI (Claude Code and GitHub Copilot).

## Features

- ðŸ”„ **Automatic Restart**: Automatically restarts deployments when referenced ConfigMaps or Secrets change
- ðŸ“‹ **Flexible Rules**: Define custom restart rules using the `RestartRule` CRD
- ðŸŽ¯ **Selective Targeting**: Target specific deployments based on your requirements
- ðŸ”’ **Secure**: Works with both ConfigMaps and Secrets

## Quick Start

### Installation

**Install the CRDs into the cluster:**
```sh
make install
```
### Usage

Create a `RestartRule` to automatically restart deployments when ConfigMaps or Secrets change:

```yaml
apiVersion: karo.jeeatwork.com/v1alpha1
kind: RestartRule
metadata:
  name: nginx-restart-rule
  namespace: default
spec:
  changes:
    - kind: ConfigMap
      name: nginx-config
      changeType: ["Update"]
    - kind: Secret
      name: nginx-secret
      changeType: ["Update"]
  targets:
    - kind: Deployment
      name: nginx
```
